"use strict";(self.webpackChunkstar_war_app=self.webpackChunkstar_war_app||[]).push([[703],{3703:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var s=a(2791),n=a(885),i=a(4569),l=a.n(i),r=a(1687),c=a(184),d=(0,s.createContext)();function o(e){var t=e.children,a=(0,s.useState)(),i=(0,n.Z)(a,2),o=i[0],u=i[1],h=(0,s.useState)(null),m=(0,n.Z)(h,2),x=m[0],f=m[1],v=(0,s.useState)(!1),j=(0,n.Z)(v,2),p=j[0],D=j[1],w=(0,s.useState)([]),g=(0,n.Z)(w,2),y=g[0],N=g[1],S=(0,s.useState)(!1),b=(0,n.Z)(S,2),H=b[0],Z=b[1],k=(0,s.useState)({}),C=(0,n.Z)(k,2),M=C[0],z=C[1];(0,s.useEffect)((function(){_()}),[]);var B=localStorage.getItem("token"),_=function(){D(!0),l().post("".concat(r.HQ,"/starships"),{authorization:"Bearer ".concat(B)}).then((function(e){N(e.data.results),D(!1)})).catch((function(e){return alert(e)}))},A={isAuthorized:o,setIsAuthorized:u,isValidUser:x,setIsValidUser:f,isLoading:p,setIsLoading:D,showDetails:H,setShowDetails:Z,tempData:y,setTempData:N,tempDetailsData:M,setTempDetailsData:z,fetchPeoplesListHandler:_,fetchDetailsHandler:function(e){D(!0),l().post("".concat(r.HQ,"/starships/details"),{route:e,authorization:"Bearer ".concat(B)}).then((function(e){z(e.data),D(!1)})).catch((function(e){return alert(e)}))}};return(0,c.jsx)(d.Provider,{value:A,children:t})}var u=a(8386),h=a(9051),m=a(2426),x=a.n(m),f=a(1554);function v(e){var t=e.title,a=e.body,s=(e.cancelBtn,e.confirmBtn,e.handleConfirm,e.showModal),n=e.setShowModal;e.defaultEventHandler;return(0,c.jsxs)(f.Z,{show:s,centered:!0,fullscreen:!1,size:"lg",onHide:function(){return n(!1)},children:[(0,c.jsx)(f.Z.Header,{closeButton:!0,children:(0,c.jsx)(f.Z.Title,{children:(0,c.jsx)("h1",{children:t})})}),(0,c.jsx)(f.Z.Body,{style:{maxHeight:"70vh",minHeight:"70vh",overflow:"auto"},children:(0,c.jsx)("div",{className:"d-flex justify-content-center",children:a})})]})}var j=function(){var e,t=(0,s.useContext)(d),a=t.tempData,n=t.tempDetailsData,i=t.isLoading,l=t.showDetails,r=t.setShowDetails,o=t.fetchDetailsHandler,m=(0,s.useMemo)((function(){return{tempData:a}}),[a]),f=Object.keys(n);return(0,c.jsxs)(c.Fragment,{children:[l&&(0,c.jsx)(v,{showModal:l,setShowModal:function(e){return r(e)},title:null===n||void 0===n?void 0:n.name,body:i?(0,c.jsx)("div",{className:"d-flex justify-content-center",children:(0,c.jsx)(u.a,{})}):(0,c.jsx)("div",{children:(0,c.jsxs)("table",{style:{maxWidth:"inherit"},children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Fields"}),(0,c.jsx)("th",{children:"Value"})]}),f.map((function(e,t){return e=e.toString(),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"h6",children:e}),(0,c.jsx)("td",{title:null===n||void 0===n?void 0:n[e],className:"text-truncate",style:{maxWidth:400},children:null===n||void 0===n?void 0:n[e]})]},t)}))]})})}),(0,c.jsxs)("div",{className:"p-5 m-5 mt-2 shadow p-3 mb-5 bg-white rounded",children:[i&&(0,c.jsx)("div",{className:"d-flex justify-content-center",children:(0,c.jsx)(u.a,{})}),(0,c.jsx)(h.X2,{className:"d-flex-row",children:null===m||void 0===m||null===(e=m.tempData)||void 0===e?void 0:e.map((function(e,t){return(0,c.jsx)(h.JX,{sm:"12",md:"6",lg:"4",onClick:function(){o(null===e||void 0===e?void 0:e.url),r(!0)},children:(0,c.jsx)("div",{className:"card mb-2",children:(0,c.jsx)("div",{className:"card-body",children:(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"d-flex-row",children:[(0,c.jsx)("h5",{className:"card-title",children:null===e||void 0===e?void 0:e.name}),(0,c.jsxs)("p",{children:["cargo capacity: ",null===e||void 0===e?void 0:e.cargo_capacity]})]}),(0,c.jsxs)("p",{className:"card-text pt-0 mt-0 text-truncate",title:null===e||void 0===e?void 0:e.manufacturer,children:["mfg by: ",null===e||void 0===e?void 0:e.manufacturer]}),(0,c.jsxs)("p",{className:"pt-0 mt-0 text-muted",style:{fontSize:"0.8em"},children:["Created At: ",x()(null===e||void 0===e?void 0:e.created).format("YYYY-MM-DD hh:mm A")]})]})})})},t)}))}),(0,c.jsx)("div",{className:"pb-3"})]})]})},p=function(){return(0,c.jsx)(o,{children:(0,c.jsx)(j,{})})}}}]);
//# sourceMappingURL=703.9d251a15.chunk.js.map