"use strict";(self.webpackChunkstar_war_app=self.webpackChunkstar_war_app||[]).push([[979],{4979:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var s=n(2791),a=n(885),i=n(4569),l=n.n(i),r=n(1687),d=n(184),c=(0,s.createContext)();function o(e){var t=e.children,n=(0,s.useState)(),i=(0,a.Z)(n,2),o=i[0],u=i[1],h=(0,s.useState)(null),m=(0,a.Z)(h,2),x=m[0],v=m[1],f=(0,s.useState)(!1),j=(0,a.Z)(f,2),p=j[0],D=j[1],w=(0,s.useState)([]),N=(0,a.Z)(w,2),S=N[0],g=N[1],y=(0,s.useState)(!1),b=(0,a.Z)(y,2),H=b[0],Z=b[1],k=(0,s.useState)({}),C=(0,a.Z)(k,2),M=C[0],z=C[1];(0,s.useEffect)((function(){A()}),[]);var B=localStorage.getItem("token"),A=function(){D(!0),l().post("".concat(r.HQ,"/planets"),{authorization:"Bearer ".concat(B)}).then((function(e){g(e.data.results),D(!1)})).catch((function(e){return alert(e)}))},I={isAuthorized:o,setIsAuthorized:u,isValidUser:x,setIsValidUser:v,isLoading:p,setIsLoading:D,showDetails:H,setShowDetails:Z,tempData:S,setTempData:g,tempDetailsData:M,setTempDetailsData:z,fetchPeoplesListHandler:A,fetchDetailsHandler:function(e){D(!0),l().post("".concat(r.HQ,"/planets/details"),{route:e,authorization:"Bearer ".concat(B)}).then((function(e){z(e.data),D(!1)})).catch((function(e){return alert(e)}))}};return(0,d.jsx)(c.Provider,{value:I,children:t})}var u=n(8386),h=n(9051),m=n(2426),x=n.n(m),v=n(1554);function f(e){var t=e.title,n=e.body,s=(e.cancelBtn,e.confirmBtn,e.handleConfirm,e.showModal),a=e.setShowModal;e.defaultEventHandler;return(0,d.jsxs)(v.Z,{show:s,centered:!0,fullscreen:!1,size:"lg",onHide:function(){return a(!1)},children:[(0,d.jsx)(v.Z.Header,{closeButton:!0,children:(0,d.jsx)(v.Z.Title,{children:(0,d.jsx)("h1",{children:t})})}),(0,d.jsx)(v.Z.Body,{style:{maxHeight:"70vh",minHeight:"70vh",overflow:"auto"},children:(0,d.jsx)("div",{className:"d-flex justify-content-center",children:n})})]})}var j=function(){var e,t=(0,s.useContext)(c),n=t.tempData,a=t.tempDetailsData,i=t.isLoading,l=t.showDetails,r=t.setShowDetails,o=t.fetchDetailsHandler,m=(0,s.useMemo)((function(){return{tempData:n}}),[n]),v=Object.keys(a);return(0,d.jsxs)(d.Fragment,{children:[l&&(0,d.jsx)(f,{showModal:l,setShowModal:function(e){return r(e)},title:null===a||void 0===a?void 0:a.name,body:i?(0,d.jsx)("div",{className:"d-flex justify-content-center",children:(0,d.jsx)(u.a,{})}):(0,d.jsx)("div",{children:(0,d.jsxs)("table",{style:{maxWidth:"inherit"},children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Fields"}),(0,d.jsx)("th",{children:"Value"})]}),v.map((function(e,t){return e=e.toString(),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"h6",children:e}),(0,d.jsx)("td",{title:null===a||void 0===a?void 0:a[e],className:"text-truncate",style:{maxWidth:400},children:null===a||void 0===a?void 0:a[e]})]},t)}))]})})}),(0,d.jsxs)("div",{className:"p-5 m-5 mt-2 shadow p-3 mb-5 bg-white rounded",children:[i&&(0,d.jsx)("div",{className:"d-flex justify-content-center",children:(0,d.jsx)(u.a,{})}),(0,d.jsx)(h.X2,{className:"d-flex-row",children:null===m||void 0===m||null===(e=m.tempData)||void 0===e?void 0:e.map((function(e,t){return(0,d.jsx)(h.JX,{sm:"12",md:"6",lg:"4",onClick:function(){o(null===e||void 0===e?void 0:e.url),r(!0)},children:(0,d.jsx)("div",{className:"card mb-2",children:(0,d.jsx)("div",{className:"card-body",children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"d-flex-row",children:[(0,d.jsx)("h5",{className:"card-title",children:null===e||void 0===e?void 0:e.name}),(0,d.jsxs)("p",{children:[" ",null===e||void 0===e?void 0:e.climate]})]}),(0,d.jsx)("p",{className:"card-text pt-0 mt-0",children:(0,d.jsxs)("span",{className:"text-muted",children:[" ",null===e||void 0===e?void 0:e.climate," | ",null===e||void 0===e?void 0:e.terrain,"  |  ",null===e||void 0===e?void 0:e.diameter]})}),(0,d.jsxs)("p",{className:"pt-0 mt-0 text-muted",style:{fontSize:"0.8em"},children:["Created At: ",x()(null===e||void 0===e?void 0:e.created).format("YYYY-MM-DD hh:mm A")]})]})})})},t)}))}),(0,d.jsx)("div",{className:"pb-3"})]})]})},p=function(){return(0,d.jsx)(o,{children:(0,d.jsx)(j,{})})}}}]);
//# sourceMappingURL=979.081702ef.chunk.js.map